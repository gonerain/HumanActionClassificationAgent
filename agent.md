# Agent: HumanActionClassificationAgent

## 🎯 Agent 概述

该 Agent 负责构建完整的人体动作识别流程，包含视频数据预处理、骨骼提取、数据集构建与保存、模型训练、模型部署与实时推理。

适用于工业/场景安全监测等任务中：判断一个人是否在特定时间段内执行某项动作（如“举手”、“搬运”、“摔倒”）。

---

## 🧩 Agent 模块组成

### 1. 数据处理模块（Data Pipeline）

#### 功能流程：
1. **人体检测**（使用 YOLO、OpenPose、Mediapipe 等）  
2. **视频切片提取**（固定长度帧序列）  
3. **骨骼关键点提取**（2D/3D）  
4. **动作标签绑定**（可视化/手工标注）  
5. **特征序列保存**（保存为 `.pkl` 或 `.npz`）

#### 输入：
- 视频流（或视频文件）
- 动作标签定义文件（JSON/YAML）

#### 输出：
- 已预处理的骨骼动作序列数据（.pkl/.npz）
- 可视化标注文件（.mp4 或图像序列）

---

### 2. 分类模型训练模块（Model Trainer）

#### 功能流程：
1. **数据加载与增强**  
2. **骨骼序列建模**（如 GCN、LSTM、Transformer）  
3. **动作标签训练/验证**  
4. **模型保存与日志记录（TensorBoard/W&B）**

#### 输入：
- 骨骼数据集（pkl/npz）
- 配置文件（超参数、模型结构）

#### 输出：
- 训练好的模型文件（`.pt` / `.onnx`）
- 日志、模型精度等可视化结果

---

### 3. 部署推理模块（Inference Agent）

#### 功能流程：
1. **持续读取视频流/摄像头**
2. **检测人体是否出现**
3. **实时提取骨骼数据**
4. **固定窗口判断动作类别**
5. **输出动作结果或报警**

#### 输入：
- 视频流 / 实时摄像头画面
- 训练好的动作识别模型

#### 输出：
- 当前动作类别
- 状态日志 / 报警信号（如“正在搬运”、“危险动作检测”）

---

## 🔁 生命周期 / 运行流程

```text
初始化系统
  ↓
数据预处理（抽帧 → 检测 → 骨骼 → 保存）
  ↓
模型训练（加载数据 → 拟合模型 → 保存权重）
  ↓
部署运行（读取视频流 → 实时检测 → 判断动作 → 输出结果）
