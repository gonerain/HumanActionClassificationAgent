# 🧠 Agent 模型结构与优化计划

## 当前模型结构

目前，Agent 使用的是一个基于 **单层 LSTM（Long Short-Term Memory）** 的骨架动作分类模型，用于识别基本动作如“站立”和“蹲下”。

### 模型组成：

- **输入格式**：骨架序列 `(T, J, D)`，在输入前展平为 `(T, N)`
- **主干网络**：单层 `nn.LSTM`，仅使用最后时刻隐藏状态
- **分类层**：单层 `Linear` 输出类别
- **损失函数**：`CrossEntropyLoss`
- **数据类型**：`.npz` 格式，包含 `data` 和 `label`

该模型结构简单高效，适合轻量任务，但存在以下局限：

- 缺乏深层时序建模能力
- 无法感知全局上下文（非双向）
- 无注意力机制，不能聚焦关键帧
- 骨架空间结构未显式建模

---

## 模型优化路线图

我们计划分阶段优化模型结构，提升 Agent 在复杂场景下的识别精度、稳定性与可扩展性。

### 🥇 第一阶段：改进时序建模（短期目标）

- 将 LSTM 升级为 **BiLSTM**（双向建模）
- 引入 **注意力机制**，用于聚焦关键帧信息
- 优化输入处理流程，保留时序结构而非直接展平

### 🥈 第二阶段：增强输入特征（中期目标）

- 引入高阶骨架特征：
  - 关节速度、加速度（坐标差分）
  - 姿态角度、骨架中心化处理
- 数据归一化与增强，提升模型泛化能力

### 🥉 第三阶段：结构化空间建模（中长期）

- 使用 **图卷积网络（GCN）** 或 **ST-GCN**
- 将人体骨架建模为图结构，提升关节之间结构建模能力
- 引入空间注意力机制识别关键关节

### 🏁 第四阶段：系统级 Agent 能力扩展（远期）

- 接入 **Transformer 编码器**，全局建模时序信息
- 多 Agent 协作结构设计（如：识别 + 推理 + 意图识别模块）
- 引入多模态输入（如视频帧、深度图、语音辅助）

---

## 小结

当前 Agent 架构已具备基本识别能力。为应对更复杂的动作序列、多样化人物和现实干扰因素，我们将分阶段进行结构升级，目标是实现 **更强的上下文建模能力、更精细的骨架理解和更智能的响应机制**。

